{
  "settings": {
    "number_of_shards": "1",
    "number_of_replicas": "0",
    "max_ngram_diff": "20",
    "max_result_window": 1000000,
    "analysis": {
      "filter": {
        "ngram_filter": {
          "type": "edge_ngram",
          "min_gram": "1",
          "max_gram": "20"
        }
      },
      "normalizer": {
        "sortNormalizer": {
          "filter": [
            "asciifolding",
            "lowercase"
          ],
          "type": "custom"
        }
      },
      "analyzer": {
        "autocompleteAnalyzer": {
          "filter": [
            "asciifolding",
            "lowercase"
          ],
          "type": "custom",
          "tokenizer": "ngram_tokenizer"
        },
        "autocompleteSearchAnalyzer": {
          "filter": [
            "asciifolding",
            "lowercase"
          ],
          "type": "custom",
          "tokenizer": "ngram_tokenizer"
        },
        "default": {
          "type": "custom",
          "tokenizer": "custom_pattern_tokenizer",
          "filter": [
            "lowercase"
          ]
        },
        "default_search": {
          "type": "custom",
          "tokenizer": "custom_pattern_tokenizer",
          "filter": [
            "lowercase"
          ]
        },
        "lowercasespaceanalyzer": {
          "type": "custom",
          "tokenizer": "custom_pattern_tokenizer",
          "filter": [
            "lowercase"
          ]
        }
      },
      "tokenizer": {
        "ngram_tokenizer": {
          "token_chars": [
            "letter",
            "digit"
          ],
          "min_gram": "1",
          "type": "edge_ngram",
          "max_gram": "20"
        },
        "custom_pattern_tokenizer": {
          "type": "pattern",
          "pattern": "\\p{Punct}{0,1}\\s+"
        }
      }
    }
  },
  "mappings": {
    "properties": {
      "curie": {
        "type": "text",
        "analyzer": "autocompleteAnalyzer",
        "search_analyzer": "autocompleteSearchAnalyzer",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "title": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "volume": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "date_published": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "page_range": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "abstract": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "publisher": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "pubmed_types": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "issue_name": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "category": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "pubmed_publication_status": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "date_arrived_in_pubmed": {
        "type": "date",
        "format": "date_optional_time||epoch_millis",
        "null_value": null,
        "ignore_malformed": true
      },
      "date_last_modified_in_pubmed": {
        "type": "date",
        "format": "date_optional_time||epoch_millis",
        "null_value": null,
        "ignore_malformed": true
      },
      "cross_references.curie": {
        "type": "text",
        "analyzer": "autocompleteAnalyzer",
        "search_analyzer": "autocompleteSearchAnalyzer",
        "fields": {
          "keyword": {
            "type": "keyword",
            "normalizer": "sortNormalizer",
            "ignore_above": 256
          }
        }
      },
      "cross_references.is_obsolete": {
        "type": "boolean"
      }
    }
  }
}