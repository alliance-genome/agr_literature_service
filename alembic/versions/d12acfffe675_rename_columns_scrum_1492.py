"""rename columns SCRUM-1492

Revision ID: d12acfffe675
Revises: d8a23f8e4b2f
Create Date: 2022-04-28 09:01:13.041938

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = 'd12acfffe675'
down_revision = 'd8a23f8e4b2f'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute('ALTER TABLE authors RENAME COLUMN affiliation TO affiliations')
    # op.add_column('authors', sa.Column('affiliations', sa.ARRAY(sa.String()), nullable=True))
    # op.drop_column('authors', 'affiliation')

    op.execute('ALTER TABLE authors_version RENAME COLUMN affiliation TO affiliations')
    op.execute('ALTER TABLE authors_version RENAME COLUMN affiliation_mod TO affiliations_mod')
    # op.add_column('authors_version', sa.Column('affiliations', sa.ARRAY(sa.String()), autoincrement=False, nullable=True))
    # op.add_column('authors_version', sa.Column('affiliations_mod', sa.Boolean(), server_default=sa.text('false'), nullable=False))
    # op.drop_column('authors_version', 'affiliation_mod')
    # op.drop_column('authors_version', 'affiliation')

    op.execute('ALTER TABLE public.references RENAME COLUMN date_last_modified TO date_last_modified_in_pubmed')
    # op.add_column('references', sa.Column('date_last_modified_in_pubmed', sa.String(), nullable=True))
    # op.drop_column('references', 'date_last_modified')

    op.execute('ALTER TABLE public.references_version RENAME COLUMN date_last_modified TO date_last_modified_in_pubmed')
    # op.drop_column('references_version', 'date_last_modified')
    # op.add_column('references_version', sa.Column('date_last_modified_in_pubmed', sa.String(), autoincrement=False, nullable=True))

    op.execute('ALTER TABLE public.references_version RENAME COLUMN date_last_modified_mod TO date_last_modified_in_pubmed_mod')
    # op.drop_column('references_version', 'date_last_modified_mod')
    # op.add_column('references_version', sa.Column('date_last_modified_in_pubmed_mod', sa.Boolean(), server_default=sa.text('false'), nullable=False))

    op.execute('ALTER TABLE public.references RENAME COLUMN pages TO page_range')
    # op.add_column('references', sa.Column('page_range', sa.String(), nullable=True))
    # op.drop_column('references', 'pages')

    op.execute('ALTER TABLE public.references_version RENAME COLUMN pages_mod TO page_range_mod')
    # op.drop_column('references_version', 'pages_mod')
    # op.add_column('references_version', sa.Column('page_range_mod', sa.Boolean(), server_default=sa.text('false'), nullable=False))

    op.execute('ALTER TABLE public.references RENAME COLUMN pubmed_type TO pubmed_types')
    # op.add_column('references', sa.Column('pubmed_types', sa.ARRAY(sa.String()), nullable=True))
    # op.drop_column('references', 'pubmed_type')

    op.execute('ALTER TABLE public.references_version RENAME COLUMN pages TO page_range')
    # op.drop_column('references_version', 'pages')
    # op.add_column('references_version', sa.Column('page_range', sa.String(), autoincrement=False, nullable=True))

    op.execute('ALTER TABLE public.references_version RENAME COLUMN pubmed_type TO pubmed_types')
    # op.drop_column('references_version', 'pubmed_type')
    # op.add_column('references_version', sa.Column('pubmed_types', sa.ARRAY(sa.String()), autoincrement=False, nullable=True))

    op.execute('ALTER TABLE public.references_version RENAME COLUMN pubmed_type_mod TO pubmed_types_mod')
    # op.add_column('references_version', sa.Column('pubmed_types_mod', sa.Boolean(), server_default=sa.text('false'), nullable=False))
    # op.drop_column('references_version', 'pubmed_type_mod')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    # op.add_column('references_version', sa.Column('pubmed_type_mod', sa.BOOLEAN(), server_default=sa.text('false'), autoincrement=False, nullable=False))
    # op.add_column('references_version', sa.Column('pages', sa.VARCHAR(), autoincrement=False, nullable=True))
    # op.add_column('references_version', sa.Column('date_last_modified_mod', sa.BOOLEAN(), server_default=sa.text('false'), autoincrement=False, nullable=False))
    # op.add_column('references_version', sa.Column('date_last_modified', sa.VARCHAR(), autoincrement=False, nullable=True))
    # op.add_column('references_version', sa.Column('pubmed_type', postgresql.ARRAY(sa.VARCHAR()), autoincrement=False, nullable=True))
    # op.add_column('references_version', sa.Column('pages_mod', sa.BOOLEAN(), server_default=sa.text('false'), autoincrement=False, nullable=False))
    # op.drop_column('references_version', 'pubmed_types_mod')
    # op.drop_column('references_version', 'pubmed_types')
    # op.drop_column('references_version', 'page_range_mod')
    # op.drop_column('references_version', 'page_range')
    # op.drop_column('references_version', 'date_last_modified_in_pubmed_mod')
    # op.drop_column('references_version', 'date_last_modified_in_pubmed')
    # op.add_column('references', sa.Column('date_last_modified', sa.VARCHAR(), autoincrement=False, nullable=True))
    # op.add_column('references', sa.Column('pubmed_type', postgresql.ARRAY(sa.VARCHAR()), autoincrement=False, nullable=True))
    # op.add_column('references', sa.Column('pages', sa.VARCHAR(), autoincrement=False, nullable=True))
    # op.drop_column('references', 'pubmed_types')
    # op.drop_column('references', 'page_range')
    # op.drop_column('references', 'date_last_modified_in_pubmed')
    # op.add_column('authors_version', sa.Column('affiliation', postgresql.ARRAY(sa.VARCHAR()), autoincrement=False, nullable=True))
    # op.add_column('authors_version', sa.Column('affiliation_mod', sa.BOOLEAN(), server_default=sa.text('false'), autoincrement=False, nullable=False))
    # op.drop_column('authors_version', 'affiliations_mod')
    # op.drop_column('authors_version', 'affiliations')
    # op.add_column('authors', sa.Column('affiliation', postgresql.ARRAY(sa.VARCHAR()), autoincrement=False, nullable=True))
    # op.drop_column('authors', 'affiliations')

    op.execute('ALTER TABLE authors RENAME COLUMN affiliations TO affiliation')
    op.execute('ALTER TABLE authors_version RENAME COLUMN affiliations TO affiliation')
    op.execute('ALTER TABLE authors_version RENAME COLUMN affiliations_mod TO affiliation_mod')
    op.execute('ALTER TABLE public.references RENAME COLUMN date_last_modified_in_pubmed TO date_last_modified')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN date_last_modified_in_pubmed TO date_last_modified')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN date_last_modified_mod_in_pubmed_mod TO date_last_modified')
    op.execute('ALTER TABLE public.references RENAME COLUMN page_range TO pages')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN page_range_mod TO pages_mod')
    op.execute('ALTER TABLE public.references RENAME COLUMN pubmed_types TO pubmed_type')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN page_range TO pages')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN pubmed_types TO pubmed_type')
    op.execute('ALTER TABLE public.references_version RENAME COLUMN pubmed_types_mod TO pubmed_type_mod')
    # ### end Alembic commands ###
